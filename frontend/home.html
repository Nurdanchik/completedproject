<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Oswald:wght@300&family=Roboto+Condensed:wght@200&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./home.css">
    <title>Rayana tournaments</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
*,
*::after,
*::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    text-decoration: none;
    list-style-type: none;
}


html {
    font-size: 62.5%;
    scroll-behavior: smooth;
    font-family: 'Poppins', sans-serif;
}

::-webkit-scrollbar {
    width: 0;
}
:root {
    --container: 144rem;
    --m-auto: 0 auto;
    --white: #fff;
    --primary: #8db8ab;
    --secondary: #eeeee4;
    --gr-1: rgba(53, 202, 123, 0.607);
    --gr-2: rgba(32, 190, 124, 0.665);
    --nav: rgba(233, 217, 217, 0.045);
    --mobile-nav: #75e19d;
    --count-down-bg: rgba(51, 89, 47, 0.295);
    --timer-before-bg: rgb(218, 201, 109);
}

body {
    font-size: 1.6rem;
}

.container {
    max-width: var(--container);
    padding: 0 2rem;
    margin: var(--m-auto);
}

#hero {
    background: linear-gradient(var(--gr-1), var(--gr-2)), url(./assets/ffftbl.jpeg) no-repeat center center / cover;
    width: 100%;
    height: 850px;
    
}

.header {
    background: var(--nav);
    backdrop-filter: blur(10px);
}

.navigation {
    height: 10rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}


.mobile_menu_icon {
    display: none;
    cursor: pointer;
}

.mobile_menu_icon .menu_icon {
    font-size: 5rem;
    color: var(--white);
}


.nav_menu {
    display: flex;
    justify-content: center;
    height: 100px;
    align-items: center;
}
.nav_list {
    display: inline-block;
    margin: 0 1rem;
}

.nav_link {
    font-size: 1.6rem;
    color: var(--white);
}

.nav_link.active {
    position: relative;
}

.nav_link.active::before {
    position: absolute;
    content: '';
    left: 50%;
    transform: rotate(45deg) translateX(-50%);
    bottom: -1.5rem;
    width: 0.7rem;
    height: 0.7rem;
    background: var(--secondary);
}



.hero_main_container {
    padding: 20rem 0;
    
}

.hero_container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(30rem, 1fr));
    align-items: center;
    text-align: center;
}


.hero_img {
    max-width: 45rem;
}

.section_heading {
    font-size: 8rem;
    line-height: 9rem;
    color: white;
    text-align: center;
}

.paragraph {
    font-size: 2.3rem;
    color: var(--white);
    margin: 3rem 0;
}



.running {
    grid-column: 1 / 3;
    color: var(--secondary);
}


.event-container {
    max-width: 400px;
    margin: 30px auto;
    background-color:white;
    padding: 15px;
    border-radius: 6px;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1); 
}
  
  .organization {
    text-align: center;
  }
  
  .event-details {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  
  .info {
    text-align: center;
  }
  
  .ticket-price {
    font-size: 18px;
    margin-bottom: 10px;
    color: #3498db;
  }
  

  .time-count {
	background: #fff;
	box-shadow: 4px 8px 40px rgba(8, 24, 111, 0.2);
	border-radius: 30px;
	width: 600px;
	height: 250px;
	padding: 65px 76px;
}

.time-count__title {
	margin: 0;
	margin-bottom: 25px;
	font-weight: 600;
	font-size: 30px;
	line-height: 37px;
	text-align: center;
	color: var(--color-dark);
}
.time-count__content {
	display: flex;
	justify-content: center;
}


.time-count__item {
	text-align: center;
}

.time-count__val {
	min-width: 50px;
	font-weight: 400;
	font-size: 40px;
	line-height:42px;
	color: var(--color-accent);
}

.time-count__separator {
	font-weight: 300;
	font-size: 15px;
	line-height: 30px;
	text-align: center;
	color: var(--color-accent);
	margin: 0 15px;
}

.time-count__text {
	font-family: 'Noto Sans', sans-serif;
	font-weight: 300;
	font-size: 8px;
	line-height: 10px;
	color: var(--color-dark);
}
#table {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    width: 100%;
    justify-content: space-around;
    gap: 2px;
}


footer {
    width: 100%;
}

footer .footer_main {
    width: 100%;
    background:#eeeee4;
    display: flex;
    justify-content: space-around;
}

footer .footer_main .tag {
    margin: 10px 0;
}

footer .footer_main .tag .center {
    text-align: center;
}

footer .footer_main .tag h1 {
    font-size: 25px;
    margin: 25px 0;
    color: rgb(17, 197, 125);
}

footer .footer_main .tag a {
    display: block;
    color: black;
    text-decoration: none;
    margin: 9px 0;
}

footer .footer_main .tag a i {
    padding: 0 10px;
    transition: 0.3;
}

footer .footer_main .tag a i:hover {
    color: rgb(17, 197, 125);
}

footer .footer_main .tag .social_link {
    display: flex;
}

footer .footer_main .tag .social_link a {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    text-align: center;
    text-decoration: none;
    color: black;
    box-shadow:0 0 20px 10px rgb(0,0,0,0.05);
    margin: 0 5px;
    z-index:10 ;
    overflow: hidden;
}

footer .footer_main .tag .social_link a .fa-brands {
    font-size: 50px;
    position: relative;
    line-height: 70px;
    z-index: 10;
    transition:0.5s;
}

footer .footer_main .tag .social_link a:hover {
    color: white;
}

.social_link a:after {
    content: '';
    width: 100%;
    height: 100%;
    top: 0;
    left: -90px;
    background: linear-gradient(#c72092,#6c14d0);
    position: absolute;
    z-index: -10;
    transition: 0.5s;
}

.social_link a:hover::after {
    left: 0;
}

@media (max-width: 904px) {
    .mobile_menu_icon {
        display: block;
    }
    .nav_menu {
        position: absolute;
        visibility: hidden;
        clip-path: circle(0% at 96% -20%);
        top: 4rem;
        left: 0;
        width: 100%;
        padding: 6rem 0;
        background: var(--mobile-nav);
        z-index: -1;
        transition: all 0.7s ease-in-out;
    }
    .nav_menu.active {
        visibility: visible;
        clip-path: circle(150% at 100% 100%);
        transition: all 0.7s ease-in-out;
    }
    .nav_list {
        display: block;
        text-align: center;
        margin: 2.5rem 0;
    }
    .hero_img {
        width: 100%;
    }
}

@media (max-width: 639px) {
    
    .hero_img {
        max-width: 30rem;
    }
}






    </style>
</head>
<body>
    <section id="hero">
        <header class="header">
            <div class="container">
                <div class="div_nav">
                    <div class="mobile_menu_icon">
                        <ion-icon name="menu-outline" class="menu_icon"></ion-icon>
                    </div>
                    <div class="nav_menu">
                        <li class="nav_list">
                            <a href="home.html" class="nav_link active">Home</a>
                        </li>
                        <li class="nav_list">
                            <a href="card.html" class="nav_link">Tournaments</a>
                        </li>
                        <li class="nav_list">
                            <a href="fnews.html" class="nav_link">News</a>
                        </li>
                        <li class="nav_list">
                            <a href="request.html" class="nav_link">Request for participating</a>
                        </li>
                    </div>
                </div>
            </div>
        </header>
        <div class="hero_main_container">
            <div class="container">
                <div class="hero_container">
                    <div class="hero_content">
                        <h1 class="section_heading">
                            We are the best <br /> in this field!
                        </h1>
                        <p class="paragraph">
                            Below you can see coming tournaments:
                        </p>
                        
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    <section id="table">
        <div class="points">
            <div class="event-container">
                <div class="organization">
                  <h2>Ala-Too</h2>
                </div>
                <div class="event-details">
                  <img src="./assets/image_sportt8_7976676036276770003.jpg" alt="Event Photo">
                  <div class="ticket-info">
                    <p>Ticket Price: $50</p>
                  </div>
                  <div class="time-count__content">
                        <div class="time-count__item time-count__days">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Day</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__hours">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Hour</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__minutes">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Minute</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__seconds">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Second</span>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        <!-- <div class="points">
            <div class="event-container">
                <div class="organization">
                  <h2>Ala-Too</h2>
                </div>
                <div class="event-details">
                  <img src="./assets/image_sportt8_7976676036276770003.jpg" alt="Event Photo">
                  <div class="ticket-info">
                    <p>Ticket Price: $50</p>
                  </div>
                  <div class="time-count__content">
                        <div class="time-count__item time-count__days">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Day</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__hours">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Hour</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__minutes">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Minute</span>
                        </div>
                        <div class="time-count__separator">:</div>
                        <div class="time-count__item time-count__seconds">
                            <div class="time-count__val">00</div>
                            <span class="time-count__text">Second</span>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
    </section>
    <footer>
        <div class="footer_main">
            <div class="tag">
                <h1>Contact Us</h1>
                <a href="#"><i class="fa-solid fa-house"></i>Bishkek, Ala-Too IU</a>
                <a href="#"><i class="fa-solid fa-phone"></i>+996 553 771 777</a>
                <a href="#"><i class="fa-solid fa-envelope"></i>raianaabd@gmail.com</a>
            </div>
            <div class="tag">
                <h1>Follow Us</h1>
                <a href="#"><i class="fa-brands fa-facebook"></i>Us in FaceBook</a>
                <a href=" \\instagram.com/diiesto"><i class="fa-brands fa-instagram"></i>Us in Instagram</a>
                <a href="#"><i class="fa-brands fa-twitter"></i>Us in Twitter</a>
            </div>
        </div>
    </footer>
    
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script>


            // Получение кода авторизации из LocalStorage
const authToken = localStorage.getItem('accessToken');

// Запрос данных с бекенда с использованием авторизационного заголовка
fetch('http://127.0.0.1:8000/api/tournamentslist', {
  headers: {
    'Authorization': 'Bearer ' + authToken
  }
})
  .then(response => response.json())
  .then(data => {
    // Обработка данных
    console.log(data);
    // Вызов функции для отображения данных на странице
    displayData(data);
  })
  .catch(error => console.error('Ошибка при получении данных:', error));

  // Функция для отображения данных на странице
  function displayData(tournaments) {
    // Найти контейнер, в который вы хотите вставить данные
    var containerElement = document.querySelector('.points');
    console.log(tournaments)
    // Очистить контейнер перед вставкой новых данных
    containerElement.innerHTML = '';
  
    // Пройти по массиву турниров и вставить данные
    tournaments.forEach(tournament => {
      // Создать элемент для каждого турнира
      var tournamentElement = document.createElement('div');
      tournamentElement.classList.add('event-container');
  
      // Создать элементы для данных турнира
      var organizationElement = document.createElement('div');
      organizationElement.classList.add('organization');
      var h2Element = document.createElement('h2');
      h2Element.textContent = tournament.whoisowner;
      organizationElement.appendChild(h2Element);
  
      var eventDetailsElement = document.createElement('div');
      eventDetailsElement.classList.add('event-details');
  
      var imgElement = document.createElement('img');
      imgElement.src = tournament.picture; // добавляем дополнительный путь к изображению
      imgElement.alt = 'Event Photo';
  
      var ticketInfoElement = document.createElement('div');
      ticketInfoElement.classList.add('ticket-info');
      ticketInfoElement.innerHTML = '<p>Ticket Price: $' + tournament.price_for_participating + '</p>';
  
      var timeCountElement = document.createElement('div');
      timeCountElement.classList.add('time-count__content');
  
      // ... (добавьте оставшуюся часть кода для времени внутри timeCountElement)
  
      // Добавить все элементы в eventDetailsElement
      eventDetailsElement.appendChild(imgElement);
      eventDetailsElement.appendChild(ticketInfoElement);
      eventDetailsElement.appendChild(timeCountElement);
  
      // Добавить organizationElement и eventDetailsElement в tournamentElement
      tournamentElement.appendChild(organizationElement);
      tournamentElement.appendChild(eventDetailsElement);
  
      // Добавить tournamentElement в контейнер
      containerElement.appendChild(tournamentElement);
    });
  }
  

        document.addEventListener('DOMContentLoaded', () => {
            let menu = document.querySelector('.nav_menu');
            let menu_toggle = document.querySelector('.mobile-menu-icon');
            let menu_toggle_icon = document.querySelector('.mobile-menu-icon ion-icon');
            menu_toggle.addEventListener('click', () => {
                menu.classList.toggle('active');
                menu.classList.contains('active') ?
                    menu_toggle_icon.setAttribute('name', 'close-outline') :
                    menu_toggle_icon.setAttribute('name', 'menu-outline');
            });
            
        });
        
        let seconds = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        let minutes = [7, 10, 15, 26, 35, 44, 50, 14, 54, 56, 58, 57];
        let hours = [4, 8, 16, 9, 5, 5, 3, 4, 2, 2, 7, 7];
        let day = [1, 3, 5, 7, 10, 11, 11, 11, 12, 13, 14, 15];
        let cards = document.querySelectorAll('.points')
        
        
        function viewTime() {
            day.forEach((element, index) => {
                let field_seconds = cards[index].querySelector('.time-count__seconds .time-count__val')
                field_seconds.innerHTML = seconds[index];
                let field_minutes = cards[index].querySelector('.time-count__minutes .time-count__val')
                field_minutes.innerHTML = minutes[index];
                let field_hours = cards[index].querySelector('.time-count__hours .time-count__val')
                field_hours.innerHTML = hours[index];
                let field_days = cards[index].querySelector('.time-count__days .time-count__val')
                field_days.innerHTML = day[index];
            });
        }
        
        viewTime();
        
        
        function timeCount() {
            day.forEach((element, index) => {
                if (seconds[index] == 0) {
                    if (minutes[index] == 0) {
                        if (hours[index] == 0) {
                            if (day[index] != 0) {
                                day[index]--;
                                hours[index] = 24;
                            }
        
                            hours[index]--;
                            minutes[index] = 60;
                        } else {
                            hours[index]--;
                            minutes[index] = 60;
                        }
        
                        minutes[index]--;
                        seconds[index] = 60;
                    } else {
                        minutes[index]--;
                        seconds[index] = 60;
                    }
        
                    seconds[index]--;
                } else {
                    seconds[index]--;
                }
            });
        
            viewTime();
        }
        
        setInterval(timeCount, 1000)
        
    </script>
</body>
</html>